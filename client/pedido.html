<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./stylss/style.css">
    <link rel="stylesheet" href="./stylss/novo.css">
    <link rel="shortcut icon" href="./imgs/favicon-16x16.png" type="image/x-icon">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <title>Novo Pedido</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lobster+Two:wght@400;700&display=swap" rel="stylesheet">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <style>
        .valor-total {
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 10px;
        }
    </style>
</head>
<body class="body">

    <header>
        <div class="inicial-set">
            <div class="logo-content" style="display: inline-flex;">
                <img src="./imgs/zyro-image.png" alt="" width="50px">
                <h1 id="logo" style="align-self: center; margin-left: 15px;"><a class="a" href="./index.html">L'arte della pizza</a></h1>
                <div class="hamburger">
                    <img id="imgg" src="./imgs/hamburger-button-depositphotos-bgremover.png" width="26%" height="30%" alt="">
                </div>
            </div>
            <ul class="respo">
                <li><a href="./menu.html">Menu</a></li>
                <li><a href="./pedido.html">Novo Pedido</a></li>
            </ul>
        </div>
    </header>
    <div id="hamburge" class="responsive-nav a-mobile">
        <ul>
            <li><a href="./menu.html">Menu</a></li>
            <li><a href="./pedido.html">Pedir</a></li>
        </ul>
    </div>  

    <main> 
        <form action="/pedidos" method="POST">
            <div class="pedido-form">
                <h3 class="titulo-da-section">Faça seu pedido</h3>
                <div>
                    <label for="nome">Seu nome:</label>
                    <input type="text" id="nome" name="nome" required>
                </div>
                <div>
                    <label for="tamanho">Tamanho da pizza:</label>
                    <select id="tamanho" name="tamanho" required>
                        <option value="">Selecione o tamanho</option>
                        <option value="media" data-preco="20">Média - R$20</option>
                        <option value="pequena" data-preco="15">Pequena - R$15</option>
                        <option value="grande" data-preco="30">Grande - R$30</option>
                    </select>
                </div>
                <div>
                    <label for="salgada">Sabor Salgado:</label>
                      <select id="salgada" name="saborSalgado" required>
                        <option value="mussarela" data-preco="15">Mussarela</option>
                        <option value="calabresa" data-preco="15">Calabresa</option>
                        <option value="frango" data-preco="15">Frango c/ Catupiry</option>
                        <option value="atumc" data-preco="16">Atum c/ Cebola</option>
                        <option value="quatroqj" data-preco="16">Quatro Queijos</option>
                        <option value="portuguesa" data-preco="16">Portuguesa</option>
                        <option value="toscana" data-preco="16">Toscana</option>
                        <option value="ultram" data-preco="18">Ultra Mussarela</option>
                        <option value="palmito" data-preco="18">Palmito</option>
                        <option value="bacon" data-preco="17">Bacon</option>
                        <option value="charque" data-preco="17">Charque</option>
                        <option value="atumpiry" data-preco="17">Atum com Catupiry</option>
                    </select>
                </div>
                <div>
                    <label for="sobremesas">Sobremesas:</label>
                    <select id="sobremesas" name="sobremesa">
                      <option value="">Selecione a sobremesa</option>
                      <option value="romeuej" data-preco="7">Romeu e Julieta - R$7</option>
                      <option value="chomorango" data-preco="8">Chocolate e Morango - R$8</option>
                      <option value="crepe" data-preco="10">Crepe de Nutella com Banana - R$10</option>
                      <option value="pudim" data-preco="6">Pudim - R$6</option>
                      <option value="mms" data-preco="5">MM's - R$5</option>
                      <option value="ovomaltine" data-preco="7">Ovomaltine - R$7</option>
                      <option value="petitg" data-preco="8">Petit Gateau - R$8</option>
                    </select>
                </div>
                <div class="form-check">
                    <h3 class="titulo-da-section">Borda</h3>
                    <input id="catupiry" class="checks-space" type="radio" name="borda" value="Catupiry" data-preco="4">
                    <label class="form-check-label" for="catupiry">Catupiry - R$4</label>
                    <input id="cheedar" class="checks-space" type="radio" name="borda" value="Cheedar" data-preco="6">
                    <label class="form-check-label" for="cheedar">Cheedar - R$6</label>
                    <input id="nutella" class="checks-space" type="radio" name="borda" value="Nutella" data-preco="7">
                    <label class="form-check-label" for="nutella">Nutella - R$7</label>
                </div>
                <div class="form-check">
                    <h3 class="titulo-da-section">Bebidas</h3>
                    <input id="laranja" class="checks-space" type="checkbox" name="bebida[]" value="Suco de Laranja" data-preco="5">
                    <label class="form-check-label" for="laranja">Suco de Laranja - R$5</label>
                    <input id="maracuja" class="checks-space" type="checkbox" name="bebida[]" value="Suco de Maracujá" data-preco="5">
                    <label class="form-check-label" for="maracuja">Suco de Maracujá - R$5</label>
                    <input id="manga" class="checks-space" type="checkbox" name="bebida[]" value="Suco de Manga" data-preco="5">
                    <label class="form-check-label" for="manga">Suco de Manga - R$5</label>
                    <input id="coca" class="checks-space" type="checkbox" name="bebida[]" value="Coca-Cola 2L" data-preco="8">
                    <label class="form-check-label" for="coca">Coca-Cola 2L - R$8</label>
                    <input id="fanta" class="checks-space" type="checkbox" name="bebida[]" value="Fanta 2L" data-preco="8">
                    <label class="form-check-label" for="fanta">Fanta 2L - R$8</label>
                    <input id="guarana" class="checks-space" type="checkbox" name="bebida[]" value="Guaraná Antártica 2L" data-preco="8">
                    <label class="form-check-label" for="guarana">Guaraná Antártica 2L - R$8</label>
                </div>
                <div class="mt-4">
                    <label for="textobs">Observações:</label>
                    <textarea id="textobs" name="obs" cols="30" rows="3"></textarea>
                </div>
                <div class="form-check">
                    <h3 class="titulo-da-section">Pagamento</h3>
                    <input id="dinheiro" class="checks-space" type="radio" name="pgto" value="Dinheiro">
                    <label class="form-check-label" for="dinheiro">Dinheiro</label>
                    <input id="credito" class="checks-space" type="radio" name="pgto" value="Crédito">
                    <label class="form-check-label" for="credito">Crédito</label>
                    <input id="debito" class="checks-space" type="radio" name="pgto" value="Débito">
                    <label class="form-check-label" for="debito">Débito</label>
                </div>
                <div class="valor-total">
                    Valor Total: R$<span id="valor-total">0.00</span>
                </div>
                <div>
                    <input id="submit" class="btn btn-success m-4 botao" type="submit" value="Enviar Pedido">
                </div>
            </div>
        </form>
    </main>
    
    <footer>
        <section>
            <div class="section-son">
                <h4>Sobre nós</h4>
                <p>Há 20 anos atrás quando chegamos no Brasil, tinhamos o sonho de levar nosso sabor, e em menos de 7 anos conseguimos nos tornar a melhor pizzaria de São Paulo. Nos estabelecendo em mais 3 estados do país e recebendo vários selos de qualidade. Levamos pizzas saborosas que irão te fazer viciar < 3</p>
            </div>
            <div class="section-son">
                <h4>Contato</h4>
                <ul>
                    <li>Tel: 11 98XXXXXXXX</li>
                    <li>Email: pizzabar@gmail.com</li>
                    <li>Rua Tenório, 400 - SP</li>
                </ul>
            </div>
            <div class="section-son">
                <h4>Redes</h4>
                <ul>
                    <li><a href="">Instagram</a></li>
                    <li><a href="">Facebook</a></li>
                    <li><a href="">Twitter</a></li>
                    <li><a href="">WhatsApp</a></li>
                </ul>
            </div>
        </section>
        <div id="copy">
            <h5 style="color: rgb(0, 0, 0);">@Copyright 2022</h5>
        </div>
    </footer>
    <script src="../codigos/script.js"></script>
    <script>
        function calcularTotal() {
            let total = 0;
            const tamanho = document.getElementById('tamanho');
            const tamanhoPreco = parseFloat(tamanho.options[tamanho.selectedIndex].dataset.preco) || 0;

            const borda = document.querySelector('input[name="borda"]:checked');
            const bordaPreco = parseFloat(borda ? borda.dataset.preco : 0);

            const sobremesas = document.getElementById('sobremesas');
            const sobremesasPreco = parseFloat(sobremesas.options[sobremesas.selectedIndex].dataset.preco) || 0;

            const bebidas = document.querySelectorAll('input[name="bebida[]"]:checked');
            const bebidasPreco = Array.from(bebidas).reduce((acc, bebida) => acc + parseFloat(bebida.dataset.preco || 0), 0);

            total = tamanhoPreco + bordaPreco + sobremesasPreco + bebidasPreco;
            document.getElementById('valor-total').textContent = total.toFixed(2);
        }

        document.addEventListener('change', calcularTotal);
        document.addEventListener('DOMContentLoaded', calcularTotal);
    </script>
</body>
</html>
